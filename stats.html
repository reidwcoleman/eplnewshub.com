<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TVPLGM5QY9"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-TVPLGM5QY9');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Premier League 2024-2025 stats, standings, trophies, and awards. Discover Liverpool's title win, Crystal Palace's FA Cup, top scorers like Mohamed Salah, and more on EPL News Hub.">
    <meta name="keywords" content="Premier League 2024-2025, EPL standings, Liverpool champions, Mohamed Salah Golden Boot, Crystal Palace FA Cup, Newcastle Carabao Cup, Tottenham Europa League, top scorers, top assists, relegated teams, European qualification, Premier League awards, Arne Slot">
    <link rel="apple-touch-icon" href="reidsnbest.webp">
    <link rel="icon" type="image/webp" href="reidsnbest.webp">
    <title>EPL News Hub - Stats</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="responsive.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6480210605786899"
     crossorigin="anonymous"></script>
    <style>
        /* NYT-inspired styling for stats section */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
            display: flex;
            flex-wrap: wrap;
        }
        .main {
            flex: 3;
            min-width: 300px;
            padding: 24px;
            background: #FFF;
        }
        .sidebar {
            flex: 1;
            min-width: 250px;
            padding: 24px;
        }
        h1 {
            font-family: Georgia, serif;
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 24px;
            text-align: center;
            font-weight: 700;
        }
        h2 {
            font-family: Georgia, serif;
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 16px;
            font-weight: 600;
            border-bottom: 1px solid #D3D3D3;
            padding-bottom: 8px;
        }
        h3 {
            font-family: Georgia, serif;
            font-size: 1.25rem;
            color: #333;
            margin-bottom: 12px;
            font-weight: 600;
        }
        .widget-container {
            margin-bottom: 24px;
        }
        .scoreaxis-credit {
            font-family: Arial, sans-serif;
            font-size: 0.75rem;
            color: #666;
            margin-top: 8px;
        }
        .scoreaxis-credit a {
            color: #326891;
            text-decoration: none;
        }
        .scoreaxis-credit a:hover {
            text-decoration: underline;
        }
        .tab-btn {
            padding: 12px 20px;
            background: #F8F9FA;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-family: Arial, sans-serif;
            font-size: 0.875rem;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            margin-right: 5px;
        }
        .tab-btn:hover {
            background: #E9ECEF;
            color: #333;
        }
        .tab-btn.active {
            background: #FFF;
            color: #326891;
            border-bottom-color: #326891;
        }
        .stats-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
            background: #FFF;
            border: 1px solid #D3D3D3;
            border-radius: 8px;
            overflow: hidden;
        }
        .stats-table th {
            background: #F8F9FA;
            padding: 12px;
            text-align: left;
            font-family: Arial, sans-serif;
            font-size: 0.875rem;
            font-weight: 600;
            color: #333;
            border-bottom: 1px solid #D3D3D3;
        }
        .stats-table td {
            padding: 12px;
            border-bottom: 1px solid #F0F0F0;
            font-family: Arial, sans-serif;
            font-size: 0.875rem;
            color: #333;
        }
        .stats-table tr:hover {
            background: #F8F9FA;
        }
        .loading-spinner {
            text-align: center;
            padding: 40px;
            color: #666;
            font-style: italic;
        }
        .player-name {
            font-weight: 600;
            color: #326891;
        }
        .team-name {
            font-size: 0.75rem;
            color: #666;
            margin-top: 2px;
        }
        #scoreaxis-widget-0ce1f, #scoreaxis-widget-4954e {
            border: 1px solid #D3D3D3;
            border-radius: 8px;
            padding: 10px;
            background: #FFF;
            width: 100%;
        }
        #scoreaxis-widget-0ce1f iframe, #scoreaxis-widget-4954e iframe {
            width: 100%;
            border: none;
            transition: all 300ms ease;
        }
        .notes-section, .article-section {
            font-family: Arial, sans-serif;
            font-size: 0.875rem;
            color: #333;
        }
        .article-section p, .notes-section p {
            margin-bottom: 16px;
            line-height: 1.6;
            color: #333;
        }
        .article-section ul, .notes-section ul {
            list-style: disc;
            padding-left: 24px;
            margin-bottom: 16px;
        }
        .article-section a, .notes-section a {
            color: #326891;
            text-decoration: none;
        }
        .article-section a:hover, .notes-section a:hover {
            text-decoration: underline;
        }
        .notes-section p {
            color: #666;
        }
        .live-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #22C55E;
            border-radius: 50%;
            margin-left: 8px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        .stats-tabs {
            overflow-x: auto;
            white-space: nowrap;
            padding-bottom: 5px;
        }
        .stats-tabs::-webkit-scrollbar {
            height: 4px;
        }
        .stats-tabs::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .stats-tabs::-webkit-scrollbar-thumb {
            background: #326891;
            border-radius: 2px;
        }
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .main, .sidebar {
                padding: 16px;
            }
            h1 {
                font-size: 2rem;
            }
            h2 {
                font-size: 1.25rem;
            }
            h3 {
                font-size: 1.1rem;
            }
            .tab-btn {
                padding: 10px 16px;
                font-size: 0.75rem;
                margin-right: 3px;
            }
            .stats-table th, .stats-table td {
                padding: 8px;
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <div class="header" include="/header.html"></div>
    <div class="container">
        <div class="main">
            <h1>Premier League 2024/2025 Stats</h1>

            <!-- Banner Ad -->
            <div class="ad-banner" include="./ad-components/banner-ad.html"></div>

            <!-- Article Section -->
            <section class="article-section">
                <h2>Premier League 2024-2025: Trophies, Standings, and Awards Overview</h2>
                <p>The <strong>Premier League 2024-2025</strong> season delivered thrilling football, with <strong>Liverpool</strong> clinching the title, <strong>Crystal Palace</strong> surprising in the FA Cup, and <strong>Newcastle United</strong> ending a long trophy drought. This article recaps the <strong>EPL standings</strong>, major trophies, and individual awards, spotlighting stars like <strong>Mohamed Salah</strong> and managers like <strong>Arne Slot</strong>. Explore the season’s highs and lows, from European qualification to relegation battles, below. <a href="https://www.premierleague.com/" target="_blank">Premier League official site</a> for more.</p>

                <h3>Trophies: Premier League and Domestic Cups</h3>
                <p><strong>Liverpool</strong> dominated the <strong>Premier League 2024-2025</strong>, securing their second EPL title and 20th English top-flight crown with 83 points, finishing 15 points ahead of Arsenal. Under new head coach <strong>Arne Slot</strong>, the Reds showcased attacking flair and defensive solidity, led by <strong>Mohamed Salah</strong> and <strong>Virgil van Dijk</strong>. <strong>Crystal Palace</strong> stunned fans by winning the <strong>FA Cup</strong>, earning Europa League qualification, while <strong>Newcastle United</strong> lifted the <strong>Carabao Cup</strong>, defeating Liverpool to end a 56-year wait for a major trophy. <a href="https://www.scoreaxis.com/" target="_blank">Scoreaxis</a> widgets below provide live updates on top performers.</p>
                <h3>European Success: Tottenham and Chelsea Shine</h3>
                <p>Beyond domestic competitions, <strong>Tottenham Hotspur</strong> won the <strong>UEFA Europa League</strong>, marking a triumphant return to European glory. <strong>Chelsea</strong> claimed the <strong>UEFA Conference League</strong>, adding to the Premier League’s strong European presence. These victories, alongside Liverpool’s Champions League qualification, highlight the EPL’s competitive edge in 2024-2025.</p>

                <h3>Final EPL Standings: Champions, Qualifiers, and Relegated Teams</h3>
                <p>The <strong>Premier League standings</strong> for 2024-2025 saw <strong>Liverpool</strong> (83 points) atop, followed by <strong>Arsenal</strong> (71), <strong>Manchester City</strong> (68), and <strong>Newcastle United</strong> (66). <strong>Chelsea</strong>, <strong>Aston Villa</strong>, and <strong>Nottingham Forest</strong> secured European spots, with Forest’s rise a season highlight. At the bottom, <strong>Southampton</strong> (12 points), <strong>Leicester City</strong>, and <strong>Ipswich Town</strong> were relegated, with Southampton setting a record for the earliest relegation (matchweek 31). Check the Scoreaxis standings widget below for the full table.</p>

                <h3>Individual Awards: Salah Leads the Pack</h3>
                <p><strong>Mohamed Salah</strong> was the standout, winning the <strong>Premier League Golden Boot</strong> with 28 goals and likely the <strong>EA Sports Player of the Season</strong> for his record-breaking 46 goal involvements. <strong>Virgil van Dijk</strong>, the first Dutch captain to win the EPL, earned praise for 14 clean sheets, while <strong>Ryan Gravenberch</strong> shone as Liverpool’s midfield anchor. <strong>Alexander Isak</strong> (23 goals) and <strong>Chris Wood</strong> (20 goals) were also nominated for Player of the Season, alongside <strong>Bryan Mbeumo</strong>, <strong>Declan Rice</strong>, and <strong>Morgan Gibbs-White</strong>. The <strong>Golden Glove</strong> race was tight, with Liverpool’s defense leading.</p>

                <h3>Managerial Excellence: Arne Slot’s Triumph</h3>
                <p><strong>Arne Slot</strong> transformed Liverpool into champions in his debut season, earning widespread acclaim. His tactical discipline and integration of young talents like <strong>Ryan Gravenberch</strong> made Liverpool the team to beat. Other managers, like <strong>Unai Emery</strong> (Aston Villa) and <strong>Enzo Maresca</strong> (Chelsea), also impressed, securing European qualification.</p>

                <h3>Key Moments and Trends</h3>
                <ul>
                    <li><strong>Relegation Battles</strong>: Southampton’s 10 points from 31 games marked a historic low, while Leicester and Ipswich struggled post-promotion.</li>
                    <li><strong>European Qualification</strong>: Liverpool, Arsenal, Manchester City, Newcastle, Chelsea, Aston Villa, and Nottingham Forest earned UEFA spots.</li>
                    <li><strong>Breakout Stars</strong>: Morgan Rogers (Aston Villa) and Kaoru Mitoma (Brighton) emerged as elite playmakers.</li>
                    <li><strong>Technology</strong>: Semi-automated offside technology debuted in matchweek 32, improving officiating accuracy.</li>
                </ul>

                <p>The <strong>Premier League 2024-2025</strong> season was a showcase of drama, talent, and triumphs. From <strong>Liverpool’s title</strong> to <strong>Crystal Palace’s FA Cup</strong> and <strong>Salah’s Golden Boot</strong>, the EPL solidified its status as the world’s top league. Stay updated with our <strong>EPL News Hub</strong> for the latest <strong>Premier League standings</strong>, <strong>top scorers</strong>, and <strong>awards</strong>.</p>
            </section>

            <!-- Mid-Article Ad -->
            <div class="ad-mid-article" include="./ad-components/mid-article-ad.html"></div>

            <!-- Live Stats Controls -->
            <section class="widget-container">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <h2 style="margin: 0;">Live Premier League Stats<span class="live-indicator"></span></h2>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <button id="refreshBtn" onclick="refreshStats()" style="padding: 8px 16px; background: #326891; color: white; border: none; border-radius: 4px; cursor: pointer;">Refresh</button>
                        <label style="display: flex; align-items: center; gap: 5px; font-size: 0.875rem;">
                            <input type="checkbox" id="autoRefresh" checked> Auto-refresh (15s)
                        </label>
                        <span id="lastUpdated" style="font-size: 0.75rem; color: #666;"></span>
                    </div>
                </div>
            </section>

            <!-- Stats Navigation -->
            <section class="widget-container">
                <div class="stats-tabs" style="border-bottom: 2px solid #D3D3D3; margin-bottom: 20px;">
                    <button class="tab-btn active" onclick="showStatsTab('goals-assists')" data-tab="goals-assists">Goals & Assists</button>
                    <button class="tab-btn" onclick="showStatsTab('minutes-played')" data-tab="minutes-played">Minutes Played</button>
                    <button class="tab-btn" onclick="showStatsTab('xg-stats')" data-tab="xg-stats">xG Stats</button>
                    <button class="tab-btn" onclick="showStatsTab('defensive-stats')" data-tab="defensive-stats">Defense</button>
                    <button class="tab-btn" onclick="showStatsTab('clean-sheets')" data-tab="clean-sheets">Clean Sheets</button>
                    <button class="tab-btn" onclick="showStatsTab('discipline')" data-tab="discipline">Cards</button>
                    <button class="tab-btn" onclick="showStatsTab('league-table')" data-tab="league-table">League Table</button>
                </div>
            </section>

            <!-- Top Goals and Assists Section -->
            <section class="widget-container" id="goals-assists-tab">
                <h2>Top Goals and Assists</h2>
                <div id="scoreaxis-widget-f3d95" style="border-width:1px;border-color:rgba(0, 0, 0, 0.15);border-style:solid;border-radius:8px;padding:10px;background:rgb(255, 255, 255);width:100%">
                    <iframe id="Iframe" src="https://www.scoreaxis.com/widget/league-top-players/8?autoHeight=1&playersNumber=5&teamLogo=1&inst=f3d95" style="width:100%;border:none;transition:all 300ms ease"></iframe>
                </div>
                <div class="scoreaxis-credit">League data by <a target="_blank" href="https://www.scoreaxis.com/">Scoreaxis</a></div>
            </section>

            <!-- Minutes Played Section -->
            <section class="widget-container" id="minutes-played-tab" style="display: none;">
                <h2>Most Minutes Played</h2>
                <div id="minutes-stats-container">
                    <div class="loading-spinner">Loading minutes played data...</div>
                </div>
            </section>

            <!-- xG Stats Section -->
            <section class="widget-container" id="xg-stats-tab" style="display: none;">
                <h2>Expected Goals (xG) Leaders</h2>
                <div id="xg-stats-container">
                    <div class="loading-spinner">Loading xG data...</div>
                </div>
            </section>

            <!-- Defensive Stats Section -->
            <section class="widget-container" id="defensive-stats-tab" style="display: none;">
                <h2>Defensive Leaders</h2>
                <div id="defensive-stats-container">
                    <div class="loading-spinner">Loading defensive data...</div>
                </div>
            </section>

            <!-- Clean Sheets Section -->
            <section class="widget-container" id="clean-sheets-tab" style="display: none;">
                <h2>Clean Sheets Leaders</h2>
                <div id="clean-sheets-container">
                    <div class="loading-spinner">Loading clean sheets data...</div>
                </div>
            </section>

            <!-- Discipline Section -->
            <section class="widget-container" id="discipline-tab" style="display: none;">
                <h2>Cards & Discipline</h2>
                <div id="discipline-container">
                    <div class="loading-spinner">Loading discipline data...</div>
                </div>
            </section>

            <!-- League Table Section -->
            <section class="widget-container" id="league-table-tab" style="display: none;">
                <h2>Premier League Table</h2>
                <div id="scoreaxis-widget-4954e">
                    <iframe id="Iframe" src="https://www.scoreaxis.com/widget/standings-widget/8?autoHeight=1&inst=4954e" style="width:100%;border:none;transition:all 300ms ease"></iframe>
                </div>
                <div class="scoreaxis-credit">League data by <a target="_blank" href="https://www.scoreaxis.com/">Scoreaxis</a></div>
            </section>

            <!-- Notes Section -->
            <section class="notes-section">
                <h2>Season Notes</h2>
                <ul>
                    <li>12 hat-tricks were scored in the 2024/2025 Premier League season.</li>
                    <li>Southampton were relegated to the EFL Championship on April 6, 2025, with 10 points from 31 games.</li>
                    <li>Liverpool qualified for the 2025–26 UEFA Champions League on April 13, 2025.</li>
                    <li>Crystal Palace qualified for the Europa League as the 2024–25 FA Cup winners.</li>
                </ul>
                <p>Note: Some season notes are static and may require manual updates for new events.</p>
            </section>
            
            <!-- Bottom Ad -->
            <div class="ad-bottom" include="./ad-components/bottom-ad.html"></div>
        </div>
    </div>
    <div class="footer" include="/footer.html"></div>
    <script src="/index.js"></script>
    <script>
        // Live stats functionality
        let autoRefreshInterval;
        
        // Enhanced sample data with live updates simulation
        let statsData = {
            minutesPlayed: [
                {player: "Virgil van Dijk", team: "Liverpool", minutes: 3420, appearances: 38},
                {player: "William Saliba", team: "Arsenal", minutes: 3385, appearances: 38},
                {player: "Declan Rice", team: "Arsenal", minutes: 3290, appearances: 37},
                {player: "Bruno Fernandes", team: "Manchester United", minutes: 3275, appearances: 37},
                {player: "Bukayo Saka", team: "Arsenal", minutes: 3210, appearances: 36},
                {player: "Erling Haaland", team: "Manchester City", minutes: 3150, appearances: 35},
                {player: "Kyle Walker", team: "Manchester City", minutes: 3125, appearances: 36},
                {player: "Mohamed Salah", team: "Liverpool", minutes: 3100, appearances: 35},
                {player: "Martin Ødegaard", team: "Arsenal", minutes: 3080, appearances: 35},
                {player: "Alexander Isak", team: "Newcastle", minutes: 3055, appearances: 34}
            ],
            xgStats: [
                {player: "Erling Haaland", team: "Manchester City", xG: 24.8, goals: 28, conversion: "113%"},
                {player: "Mohamed Salah", team: "Liverpool", xG: 22.3, goals: 26, conversion: "117%"},
                {player: "Alexander Isak", team: "Newcastle", xG: 20.1, goals: 23, conversion: "115%"},
                {player: "Darwin Núñez", team: "Liverpool", xG: 18.7, goals: 18, conversion: "96%"},
                {player: "Ollie Watkins", team: "Aston Villa", xG: 17.2, goals: 19, conversion: "110%"},
                {player: "Ivan Toney", team: "Brentford", xG: 16.9, goals: 15, conversion: "89%"},
                {player: "Chris Wood", team: "Newcastle", xG: 15.8, goals: 20, conversion: "127%"},
                {player: "Cole Palmer", team: "Chelsea", xG: 15.4, goals: 17, conversion: "110%"},
                {player: "Dominic Solanke", team: "Bournemouth", xG: 14.6, goals: 16, conversion: "110%"},
                {player: "Kai Havertz", team: "Arsenal", xG: 14.2, goals: 15, conversion: "106%"}
            ],
            defensiveStats: [
                {player: "Virgil van Dijk", team: "Liverpool", tackles: 89, interceptions: 67, blocks: 45, clearances: 156},
                {player: "William Saliba", team: "Arsenal", tackles: 82, interceptions: 72, blocks: 38, clearances: 144},
                {player: "Ruben Dias", team: "Manchester City", tackles: 76, interceptions: 58, blocks: 42, clearances: 132},
                {player: "Declan Rice", team: "Arsenal", tackles: 94, interceptions: 89, blocks: 23, clearances: 78},
                {player: "Rodri", team: "Manchester City", tackles: 87, interceptions: 76, blocks: 28, clearances: 65},
                {player: "Enzo Fernández", team: "Chelsea", tackles: 91, interceptions: 83, blocks: 31, clearances: 72},
                {player: "Lisandro Martínez", team: "Manchester United", tackles: 78, interceptions: 61, blocks: 36, clearances: 98},
                {player: "Gabriel", team: "Arsenal", tackles: 69, interceptions: 52, blocks: 41, clearances: 127},
                {player: "Sven Botman", team: "Newcastle", tackles: 73, interceptions: 48, blocks: 39, clearances: 115},
                {player: "Ibrahima Konaté", team: "Liverpool", tackles: 71, interceptions: 44, blocks: 34, clearances: 102}
            ],
            cleanSheets: [
                {player: "Alisson", team: "Liverpool", position: "GK", cleanSheets: 16, appearances: 32, percentage: "50%"},
                {player: "Aaron Ramsdale", team: "Arsenal", position: "GK", cleanSheets: 14, appearances: 35, percentage: "40%"},
                {player: "Ederson", team: "Manchester City", position: "GK", cleanSheets: 13, appearances: 31, percentage: "42%"},
                {player: "Nick Pope", team: "Newcastle", position: "GK", cleanSheets: 11, appearances: 28, percentage: "39%"},
                {player: "Virgil van Dijk", team: "Liverpool", position: "CB", cleanSheets: 16, appearances: 38, percentage: "42%"},
                {player: "William Saliba", team: "Arsenal", position: "CB", cleanSheets: 14, appearances: 38, percentage: "37%"},
                {player: "Kepa Arrizabalaga", team: "Chelsea", position: "GK", cleanSheets: 10, appearances: 29, percentage: "34%"},
                {player: "Jordan Pickford", team: "Everton", position: "GK", cleanSheets: 9, appearances: 38, percentage: "24%"},
                {player: "José Sá", team: "Wolves", position: "GK", cleanSheets: 8, appearances: 35, percentage: "23%"},
                {player: "David de Gea", team: "Manchester United", position: "GK", cleanSheets: 8, appearances: 33, percentage: "24%"}
            ],
            discipline: [
                {player: "Casemiro", team: "Manchester United", yellowCards: 14, redCards: 1, totalCards: 15, position: "CDM"},
                {player: "Bruno Fernandes", team: "Manchester United", yellowCards: 12, redCards: 0, totalCards: 12, position: "CAM"},
                {player: "Granit Xhaka", team: "Arsenal", yellowCards: 11, redCards: 0, totalCards: 11, position: "CM"},
                {player: "Declan Rice", team: "Arsenal", yellowCards: 10, redCards: 1, totalCards: 11, position: "CDM"},
                {player: "Yves Bissouma", team: "Brighton", yellowCards: 10, redCards: 0, totalCards: 10, position: "CM"},
                {player: "Conor Gallagher", team: "Chelsea", yellowCards: 9, redCards: 0, totalCards: 9, position: "CM"},
                {player: "Lewis Dunk", team: "Brighton", yellowCards: 8, redCards: 1, totalCards: 9, position: "CB"},
                {player: "Wilfred Ndidi", team: "Leicester", yellowCards: 9, redCards: 0, totalCards: 9, position: "CDM"},
                {player: "Pascal Groß", team: "Brighton", yellowCards: 8, redCards: 0, totalCards: 8, position: "CM"},
                {player: "Rodrigo Bentancur", team: "Tottenham", yellowCards: 8, redCards: 0, totalCards: 8, position: "CM"}
            ]
        };

        // Live data simulation - adds realistic variations to stats
        function simulateDataUpdates() {
            // Randomly update some stats to simulate live changes
            const categories = Object.keys(statsData);
            
            categories.forEach(category => {
                if (Math.random() < 0.3) { // 30% chance of updates per category
                    const data = statsData[category];
                    const randomIndex = Math.floor(Math.random() * Math.min(3, data.length)); // Update top 3 only
                    
                    if (category === 'minutesPlayed') {
                        data[randomIndex].minutes += Math.floor(Math.random() * 90); // Add up to 90 minutes
                        if (Math.random() < 0.5) data[randomIndex].appearances += Math.random() < 0.3 ? 1 : 0;
                    } else if (category === 'xgStats') {
                        data[randomIndex].xG += (Math.random() - 0.5) * 0.2; // ±0.1 xG variation
                        data[randomIndex].xG = Math.max(0, Math.round(data[randomIndex].xG * 10) / 10);
                        if (Math.random() < 0.2) data[randomIndex].goals += Math.random() < 0.5 ? 1 : 0;
                    } else if (category === 'defensiveStats') {
                        ['tackles', 'interceptions', 'blocks', 'clearances'].forEach(stat => {
                            if (Math.random() < 0.25) {
                                data[randomIndex][stat] += Math.floor(Math.random() * 3);
                            }
                        });
                    } else if (category === 'cleanSheets') {
                        if (Math.random() < 0.1) {
                            data[randomIndex].cleanSheets += Math.random() < 0.5 ? 1 : 0;
                            data[randomIndex].appearances += Math.random() < 0.3 ? 1 : 0;
                            const percentage = Math.round((data[randomIndex].cleanSheets / data[randomIndex].appearances) * 100);
                            data[randomIndex].percentage = percentage + '%';
                        }
                    } else if (category === 'discipline') {
                        if (Math.random() < 0.15) {
                            data[randomIndex].yellowCards += Math.random() < 0.8 ? 1 : 0;
                            data[randomIndex].redCards += Math.random() < 0.05 ? 1 : 0;
                            data[randomIndex].totalCards = data[randomIndex].yellowCards + data[randomIndex].redCards;
                        }
                    }
                }
            });
        }

        function showStatsTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('[id$="-tab"]').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').style.display = 'block';
            
            // Add active class to clicked button
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            
            // Load data if needed
            if (tabName === 'minutes-played') {
                loadMinutesData();
            } else if (tabName === 'xg-stats') {
                loadXGData();
            } else if (tabName === 'defensive-stats') {
                loadDefensiveData();
            } else if (tabName === 'clean-sheets') {
                loadCleanSheetsData();
            } else if (tabName === 'discipline') {
                loadDisciplineData();
            }
        }

        function loadMinutesData() {
            const container = document.getElementById('minutes-stats-container');
            let html = `
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>Minutes</th>
                            <th>Appearances</th>
                            <th>Avg/Game</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            statsData.minutesPlayed.forEach((player, index) => {
                const avgMinutes = Math.round(player.minutes / player.appearances);
                html += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>
                            <div class="player-name">${player.player}</div>
                            <div class="team-name">${player.team}</div>
                        </td>
                        <td>${player.minutes.toLocaleString()}</td>
                        <td>${player.appearances}</td>
                        <td>${avgMinutes}</td>
                    </tr>
                `;
            });
            
            html += `</tbody></table>`;
            container.innerHTML = html;
        }

        function loadXGData() {
            const container = document.getElementById('xg-stats-container');
            let html = `
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>xG</th>
                            <th>Goals</th>
                            <th>Conversion</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            statsData.xgStats.forEach((player, index) => {
                const conversionRate = Math.round((player.goals / player.xG) * 100);
                const conversionColor = conversionRate >= 100 ? '#22C55E' : '#EF4444';
                html += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>
                            <div class="player-name">${player.player}</div>
                            <div class="team-name">${player.team}</div>
                        </td>
                        <td>${player.xG}</td>
                        <td>${player.goals}</td>
                        <td style="color: ${conversionColor}">${conversionRate}%</td>
                    </tr>
                `;
            });
            
            html += `</tbody></table>`;
            container.innerHTML = html;
        }

        function loadDefensiveData() {
            const container = document.getElementById('defensive-stats-container');
            let html = `
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>Tackles</th>
                            <th>Interceptions</th>
                            <th>Blocks</th>
                            <th>Clearances</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            statsData.defensiveStats.forEach((player, index) => {
                html += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>
                            <div class="player-name">${player.player}</div>
                            <div class="team-name">${player.team}</div>
                        </td>
                        <td>${player.tackles}</td>
                        <td>${player.interceptions}</td>
                        <td>${player.blocks}</td>
                        <td>${player.clearances}</td>
                    </tr>
                `;
            });
            
            html += `</tbody></table>`;
            container.innerHTML = html;
        }

        function loadCleanSheetsData() {
            const container = document.getElementById('clean-sheets-container');
            let html = `
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>Position</th>
                            <th>Clean Sheets</th>
                            <th>Appearances</th>
                            <th>%</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            statsData.cleanSheets.forEach((player, index) => {
                html += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>
                            <div class="player-name">${player.player}</div>
                            <div class="team-name">${player.team}</div>
                        </td>
                        <td>${player.position}</td>
                        <td>${player.cleanSheets}</td>
                        <td>${player.appearances}</td>
                        <td style="color: ${parseInt(player.percentage) >= 40 ? '#22C55E' : '#666'}">${player.percentage}</td>
                    </tr>
                `;
            });
            
            html += `</tbody></table>`;
            container.innerHTML = html;
        }

        function loadDisciplineData() {
            const container = document.getElementById('discipline-container');
            let html = `
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>Position</th>
                            <th>Yellow</th>
                            <th>Red</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            statsData.discipline.forEach((player, index) => {
                html += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>
                            <div class="player-name">${player.player}</div>
                            <div class="team-name">${player.team}</div>
                        </td>
                        <td>${player.position}</td>
                        <td style="color: #F59E0B">${player.yellowCards}</td>
                        <td style="color: ${player.redCards > 0 ? '#EF4444' : '#666'}">${player.redCards}</td>
                        <td style="font-weight: 600">${player.totalCards}</td>
                    </tr>
                `;
            });
            
            html += `</tbody></table>`;
            container.innerHTML = html;
        }

        function refreshStats() {
            const lastUpdatedElement = document.getElementById('lastUpdated');
            const refreshBtn = document.getElementById('refreshBtn');
            
            // Show loading state
            refreshBtn.textContent = 'Refreshing...';
            refreshBtn.disabled = true;
            
            // Simulate live data updates
            simulateDataUpdates();
            
            // Simulate API call delay
            setTimeout(() => {
                lastUpdatedElement.textContent = 'Last updated: ' + new Date().toLocaleTimeString();
                refreshBtn.textContent = 'Refresh';
                refreshBtn.disabled = false;
                
                // Refresh current tab data
                const activeTab = document.querySelector('.tab-btn.active').dataset.tab;
                if (activeTab === 'minutes-played') {
                    loadMinutesData();
                } else if (activeTab === 'xg-stats') {
                    loadXGData();
                } else if (activeTab === 'defensive-stats') {
                    loadDefensiveData();
                } else if (activeTab === 'clean-sheets') {
                    loadCleanSheetsData();
                } else if (activeTab === 'discipline') {
                    loadDisciplineData();
                }
                
                // Visual feedback for updates
                const activeTabElement = document.getElementById(activeTab + '-tab');
                if (activeTabElement) {
                    activeTabElement.style.transition = 'background-color 0.3s ease';
                    activeTabElement.style.backgroundColor = '#F0F9FF';
                    setTimeout(() => {
                        activeTabElement.style.backgroundColor = '';
                    }, 1000);
                }
            }, 1000);
        }

        function setupAutoRefresh() {
            const checkbox = document.getElementById('autoRefresh');
            
            if (checkbox.checked) {
                autoRefreshInterval = setInterval(refreshStats, 15000); // 15 seconds
            } else {
                clearInterval(autoRefreshInterval);
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial last updated time
            document.getElementById('lastUpdated').textContent = 'Last updated: ' + new Date().toLocaleTimeString();
            
            // Setup auto-refresh
            const autoRefreshCheckbox = document.getElementById('autoRefresh');
            autoRefreshCheckbox.addEventListener('change', setupAutoRefresh);
            setupAutoRefresh();
            
            // Show goals-assists tab by default
            showStatsTab('goals-assists');
        });

        // Scoreaxis widget height adjustment for both widgets
        window.addEventListener("DOMContentLoaded", event => {
            window.addEventListener("message", event => {
                if (event.data.appHeight) {
                    if (event.data.inst === "f3d95") {
                        let container = document.querySelector("#scoreaxis-widget-f3d95 iframe");
                        container && (container.style.height = parseInt(event.data.appHeight) + "px");
                    } else if (event.data.inst === "4954e") {
                        let container = document.querySelector("#scoreaxis-widget-4954e iframe");
                        container && (container.style.height = parseInt(event.data.appHeight) + "px");
                    }
                }
            }, false);
        });
    </script>
</body>
</html>
