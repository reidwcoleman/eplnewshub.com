<!-- Enhanced Mobile Header - UltraThink Navigation System -->
<header class="nyt-header-mobile">
    <!-- Fixed Top Bar -->
    <div class="mobile-header-bar">
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Open Menu">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>

        <div class="mobile-logo">
            <a href="/mobile/index.html" aria-label="EPL News Hub Home">
                <img src="/eplnewshubnewlogo.png" alt="EPL News Hub" class="mobile-logo-img">
            </a>
        </div>

        <button class="mobile-search-btn" onclick="toggleSearch()" aria-label="Search">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
        </button>
    </div>

    <!-- Horizontal Scrollable Quick Nav -->
    <nav class="mobile-quick-nav">
        <div class="quick-nav-scroll">
            <a href="/mobile/index.html" class="quick-nav-item active">Home</a>
            <a href="/mobile/news.html" class="quick-nav-item">Latest News</a>
            <a href="/mobile/transfer-center.html" class="quick-nav-item">Transfers</a>
            <a href="/mobile/fpl.html" class="quick-nav-item">FPL</a>
            <a href="/mobile/polls.html" class="quick-nav-item">Polls</a>
            <a href="/mobile/epl-predictor-game.html" class="quick-nav-item">Predictor</a>
            <a href="/mobile/membership.html" class="quick-nav-item premium">Premium</a>
        </div>
    </nav>

    <!-- Search Bar (Hidden by default) -->
    <div id="mobile-search-bar" class="mobile-search-bar">
        <input type="search" placeholder="Search articles, teams, players..." class="mobile-search-input">
        <button class="mobile-search-submit">Search</button>
    </div>
</header>

<!-- Enhanced Mobile Sidebar -->
<div id="mobile-sidebar" class="mobile-sidebar-enhanced">
    <div class="sidebar-header">
        <div class="sidebar-logo">
            <img src="/eplnewshubnewlogo.png" alt="EPL News Hub">
        </div>
        <button class="sidebar-close-btn" onclick="toggleMobileMenu()" aria-label="Close Menu">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>

    <!-- User Account Section -->
    <div class="sidebar-user-section">
        <div class="sidebar-user-avatar">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
        </div>
        <div class="sidebar-user-info">
            <p class="sidebar-user-greeting">Welcome Back!</p>
            <a href="/mobile/membership.html" class="sidebar-premium-link">Upgrade to Premium</a>
        </div>
    </div>

    <!-- Main Navigation -->
    <nav class="sidebar-nav">
        <!-- Primary Links -->
        <div class="sidebar-section">
            <a href="/mobile/index.html" class="sidebar-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                </svg>
                <span>Home</span>
            </a>
            <a href="/mobile/news.html" class="sidebar-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
                </svg>
                <span>Latest News</span>
            </a>
            <a href="/mobile/transfer-center.html" class="sidebar-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M9 3L5 7l1.41 1.41L9 5.83V13h2V5.83l2.59 2.58L15 7l-4-4zm7 14.17V10h-2v7.17l-2.59-2.58L10 16l4 4 4-4-1.41-1.41z"/>
                </svg>
                <span>Transfer Center</span>
            </a>
        </div>

        <!-- FPL Tools Section -->
        <div class="sidebar-section">
            <h3 class="sidebar-section-title">Fantasy Premier League</h3>
            <a href="/mobile/fpl.html" class="sidebar-link">
                <span>FPL Hub</span>
            </a>
            <a href="/mobile/fpl-ai-assistant.html" class="sidebar-link">
                <span>AI Assistant</span>
            </a>
            <a href="/mobile/transfer-simulator-pro.html" class="sidebar-link">
                <span>Transfer Simulator</span>
            </a>
            <a href="/mobile/fpl-player-analyzer.html" class="sidebar-link">
                <span>Player Analyzer</span>
            </a>
            <a href="/mobile/player-data-enhanced.html" class="sidebar-link">
                <span>Analytics Dashboard</span>
            </a>
        </div>

        <!-- Interactive Section -->
        <div class="sidebar-section">
            <h3 class="sidebar-section-title">Community</h3>
            <a href="/mobile/polls.html" class="sidebar-link">
                <span>Polls & Voting</span>
            </a>
            <a href="/mobile/epl-predictor-game.html" class="sidebar-link">
                <span>Match Predictor</span>
            </a>
            <a href="/mobile/social.html" class="sidebar-link">
                <span>Social Hub</span>
            </a>
        </div>

        <!-- Other Links -->
        <div class="sidebar-section">
            <h3 class="sidebar-section-title">More</h3>
            <a href="/trader" class="sidebar-link">
                <span>Trading Platform</span>
            </a>
            <a href="/mobile/learning.html" class="sidebar-link">
                <span>Learning Center</span>
            </a>
            <a href="/mobile/membership.html" class="sidebar-link premium">
                <span>Premium Membership</span>
            </a>
        </div>
    </nav>

    <!-- Bottom Section -->
    <div class="sidebar-bottom">
        <a href="/?desktop=true" class="sidebar-desktop-link">
            Switch to Desktop Version
        </a>
    </div>
</div>

<!-- Mobile Overlay -->
<div id="mobile-sidebar-overlay" class="nyt-mobile-overlay" onclick="toggleMobileMenu()"></div>

<script>
// Enhanced Mobile Menu Toggle
function toggleMobileMenu() {
    const sidebar = document.getElementById('mobile-sidebar');
    const overlay = document.getElementById('mobile-sidebar-overlay');
    const menuBtn = document.querySelector('.mobile-menu-btn');
    const isOpen = sidebar.classList.contains('active');

    if (isOpen) {
        sidebar.classList.remove('active');
        overlay.classList.remove('active');
        menuBtn.classList.remove('active');
        document.body.style.overflow = '';
    } else {
        sidebar.classList.add('active');
        overlay.classList.add('active');
        menuBtn.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
}

// Search Bar Toggle
function toggleSearch() {
    const searchBar = document.getElementById('mobile-search-bar');
    const isVisible = searchBar.classList.contains('active');

    if (isVisible) {
        searchBar.classList.remove('active');
    } else {
        searchBar.classList.add('active');
        searchBar.querySelector('.mobile-search-input').focus();
    }
}

// Close search when clicking outside
document.addEventListener('click', function(event) {
    const searchBar = document.getElementById('mobile-search-bar');
    const searchBtn = document.querySelector('.mobile-search-btn');

    if (searchBar && !searchBar.contains(event.target) && !searchBtn.contains(event.target)) {
        searchBar.classList.remove('active');
    }
});

// Add active state to current page in quick nav
document.addEventListener('DOMContentLoaded', function() {
    const currentPath = window.location.pathname;
    const quickNavItems = document.querySelectorAll('.quick-nav-item');

    quickNavItems.forEach(item => {
        if (item.getAttribute('href') === currentPath) {
            item.classList.add('active');
        } else {
            item.classList.remove('active');
        }
    });
});
</script>
