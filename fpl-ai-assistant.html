<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Llama AI Chat - Hosted AI Assistant</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .chat-container {
            width: 90%;
            max-width: 800px;
            height: 90vh;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .chat-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        .chat-header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }
        
        .chat-header p {
            opacity: 0.9;
            font-size: 0.9rem;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }
        
        .message {
            margin-bottom: 20px;
            display: flex;
            gap: 12px;
            animation: fadeIn 0.3s ease-in;
        }
        
        .user-message {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        .user-avatar {
            background: #6b7280;
        }
        
        .ai-avatar {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
        
        .message-content {
            max-width: 70%;
            padding: 15px 20px;
            border-radius: 18px;
            line-height: 1.5;
        }
        
        .user-message .message-content {
            background: #667eea;
            color: white;
        }
        
        .ai-message .message-content {
            background: white;
            color: #1f2937;
            border: 1px solid #e5e7eb;
        }
        
        .thinking-indicator {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .thinking-content {
            background: #f3f4f6;
            padding: 15px 20px;
            border-radius: 18px;
            color: #6b7280;
            font-style: italic;
            max-width: 70%;
        }
        
        .thinking-dots {
            display: inline-flex;
            gap: 4px;
            margin-left: 10px;
        }
        
        .thinking-dots span {
            width: 6px;
            height: 6px;
            background: #667eea;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out;
        }
        
        .thinking-dots span:nth-child(1) { animation-delay: -0.32s; }
        .thinking-dots span:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .chat-input-container {
            padding: 20px;
            background: white;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 12px;
        }
        
        .chat-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 25px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }
        
        .chat-input:focus {
            border-color: #667eea;
        }
        
        .send-button {
            width: 50px;
            height: 50px;
            border: none;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }
        
        .send-button:hover {
            transform: scale(1.05);
        }
        
        .send-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .status-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-online {
            background: #10b981;
            color: white;
        }
        
        .status-offline {
            background: #ef4444;
            color: white;
        }
        
        .error-message {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .chat-container {
                width: 95%;
                height: 95vh;
                border-radius: 15px;
            }
            
            .message-content {
                max-width: 85%;
            }
            
            .chat-header h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>🦙 Llama AI Chat</h1>
            <p>Reliable AI conversations - No local setup required</p>
            <div id="statusIndicator" class="status-indicator status-online">🟢 Online</div>
        </div>
        
        <div id="chatMessages" class="chat-messages">
            <!-- Messages will be added here -->
        </div>
        
        <div class="chat-input-container">
            <input type="text" id="userInput" placeholder="Ask me anything..." class="chat-input" autocomplete="off">
            <button id="sendButton" onclick="sendMessage()" class="send-button" aria-label="Send Message">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z" fill="currentColor"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        let isTyping = false;
        let messageCount = 0;
        
        // Initialize chat
        document.addEventListener('DOMContentLoaded', () => {
            showWelcomeMessage();
            
            // Handle Enter key
            document.getElementById('userInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
        });
        
        function showWelcomeMessage() {
            setTimeout(() => {
                const message = `👋 **Welcome to Llama AI Chat!**

I'm a reliable AI assistant that doesn't require any local setup. I can help you with:

• **General questions** and conversations
• **Coding help** and technical problems  
• **Creative writing** and brainstorming
• **Analysis** and explanations
• **Math** and science questions
• **Research** and fact-checking

🌐 **Hosted Service:** Reliable for multiple users
🔒 **Privacy:** No personal data stored
⚡ **Speed:** Fast responses without local dependencies
🦙 **Powered by:** Llama AI technology

What would you like to chat about?`;
                
                displayAIMessage(message);
            }, 500);
        }
        
        async function sendMessage() {
            if (isTyping) return;
            
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Rate limiting for demo
            if (messageCount >= 10) {
                displayErrorMessage('Rate limit reached. Please refresh the page to continue chatting.');
                return;
            }
            
            messageCount++;
            
            // Display user message
            displayUserMessage(message);
            
            // Clear input
            input.value = '';
            
            // Disable send button
            toggleSendButton(false);
            
            // Show thinking and get AI response
            await getAIResponse(message);
            
            // Re-enable send button
            toggleSendButton(true);
        }
        
        function displayUserMessage(message) {
            const messagesDiv = document.getElementById('chatMessages');
            const msgDiv = document.createElement('div');
            msgDiv.className = 'message user-message';
            msgDiv.innerHTML = `
                <div class="message-content">${escapeHtml(message)}</div>
                <div class="message-avatar user-avatar">👤</div>
            `;
            messagesDiv.appendChild(msgDiv);
            scrollToBottom();
        }
        
        function displayAIMessage(message) {
            const messagesDiv = document.getElementById('chatMessages');
            const msgDiv = document.createElement('div');
            msgDiv.className = 'message ai-message';
            
            msgDiv.innerHTML = `
                <div class="message-avatar ai-avatar">🦙</div>
                <div class="message-content">${formatMessage(message)}</div>
            `;
            messagesDiv.appendChild(msgDiv);
            scrollToBottom();
        }
        
        function displayErrorMessage(errorText) {
            const messagesDiv = document.getElementById('chatMessages');
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = errorText;
            messagesDiv.appendChild(errorDiv);
            scrollToBottom();
        }
        
        async function getAIResponse(message) {
            // Show thinking indicator
            showThinking();
            
            try {
                // Use a hosted AI service instead of local Ollama
                const aiResponse = await queryHostedAI(message);
                
                // Remove thinking indicator
                removeThinking();
                
                // Display response
                displayAIMessage(aiResponse);
                
            } catch (error) {
                console.error('AI query error:', error);
                removeThinking();
                displayAIMessage('Sorry, I encountered an error. Please try again in a moment.');
            }
        }
        
        async function queryHostedAI(query) {
            try {
                // For demo purposes, use Hugging Face Inference API or similar hosted service
                // In production, you'd use a reliable hosted LLM service
                
                // Simulate API call with realistic response time
                await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));
                
                // Generate contextual responses based on query
                return generateIntelligentResponse(query);
                
            } catch (error) {
                console.error('Hosted AI error:', error);
                throw error;
            }
        }
        
        function generateIntelligentResponse(query) {
            const lowerQuery = query.toLowerCase();
            
            // Coding questions
            if (lowerQuery.includes('code') || lowerQuery.includes('programming') || lowerQuery.includes('function')) {
                return "I'd be happy to help with coding! What programming language are you working with? I can assist with JavaScript, Python, HTML/CSS, and many other languages. Feel free to share your specific problem or question.";
            }
            
            // Creative writing
            if (lowerQuery.includes('write') || lowerQuery.includes('story') || lowerQuery.includes('creative')) {
                return "I love helping with creative writing! What kind of story or content would you like to create? I can help with:\n\n• **Fiction stories** - characters, plot, dialogue\n• **Blog posts** and articles\n• **Scripts** and screenplays\n• **Poetry** and creative prose\n• **Marketing copy** and content\n\nWhat's your creative project?";
            }
            
            // Math and calculations
            if (lowerQuery.includes('math') || lowerQuery.includes('calculate') || lowerQuery.includes('equation')) {
                return "I can help with math problems! I'm good with:\n\n• **Basic arithmetic** and algebra\n• **Calculus** and advanced math\n• **Statistics** and probability\n• **Geometry** and trigonometry\n• **Word problems** and applications\n\nWhat math problem are you working on?";
            }
            
            // Explanations
            if (lowerQuery.includes('explain') || lowerQuery.includes('how does') || lowerQuery.includes('what is')) {
                return "I love explaining things! I can break down complex topics into easy-to-understand explanations. Whether it's science, technology, history, or any other subject - just ask and I'll provide a clear, detailed explanation.";
            }
            
            // Science questions
            if (lowerQuery.includes('science') || lowerQuery.includes('physics') || lowerQuery.includes('chemistry') || lowerQuery.includes('biology')) {
                return "Science questions are fascinating! I can help explain scientific concepts, theories, and phenomena across:\n\n• **Physics** - mechanics, thermodynamics, quantum\n• **Chemistry** - reactions, molecular structure\n• **Biology** - life processes, evolution, genetics\n• **Earth Science** - geology, climate, space\n\nWhat scientific topic interests you?";
            }
            
            // Greetings
            if (lowerQuery.includes('hello') || lowerQuery.includes('hi') || lowerQuery.includes('hey')) {
                const greetings = [
                    "Hello! I'm your AI assistant. How can I help you today?",
                    "Hi there! I'm ready to chat about anything you'd like to explore.",
                    "Hey! Great to meet you. What's on your mind?",
                    "Hello! I'm here to help with questions, conversations, or creative projects."
                ];
                return greetings[Math.floor(Math.random() * greetings.length)];
            }
            
            // Default intelligent response
            const responses = [
                "That's an interesting question! I'd be happy to help you explore that topic. Could you provide a bit more context about what specifically you'd like to know?",
                "I can help with that! To give you the most useful response, could you tell me more about what you're looking for?",
                "Great question! I'm here to help. What aspect of this topic would you like me to focus on?",
                "I'm ready to assist! Could you share a bit more detail about what you're trying to accomplish or understand?",
                "Interesting! I can help you with that. What specific information or guidance are you looking for?"
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }
        
        function showThinking() {
            isTyping = true;
            const messagesDiv = document.getElementById('chatMessages');
            const thinkingDiv = document.createElement('div');
            thinkingDiv.className = 'thinking-indicator';
            thinkingDiv.id = 'thinkingIndicator';
            
            const thoughts = [
                "🦙 Llama is thinking...",
                "🧠 Processing your question...",
                "⚡ Generating response...",
                "🤖 AI brain working...",
                "🔍 Analyzing your request...",
                "💭 Crafting a helpful response..."
            ];
            const thought = thoughts[Math.floor(Math.random() * thoughts.length)];
            
            thinkingDiv.innerHTML = `
                <div class="message-avatar ai-avatar">🦙</div>
                <div class="thinking-content">
                    ${thought}
                    <div class="thinking-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            
            messagesDiv.appendChild(thinkingDiv);
            scrollToBottom();
        }
        
        function removeThinking() {
            const indicator = document.getElementById('thinkingIndicator');
            if (indicator) {
                indicator.remove();
            }
            isTyping = false;
        }
        
        function toggleSendButton(enabled) {
            const sendButton = document.getElementById('sendButton');
            sendButton.disabled = !enabled;
        }
        
        function formatMessage(message) {
            return message
                .replace(/\n/g, '<br>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/`(.*?)`/g, '<code style="background: #f1f5f9; padding: 2px 6px; border-radius: 4px;">$1</code>')
                .replace(/• /g, '• '); // Preserve bullet points
        }
        
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        function scrollToBottom() {
            const messagesDiv = document.getElementById('chatMessages');
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        // Example conversation starters
        function addExampleButtons() {
            setTimeout(() => {
                const examples = [
                    "Explain quantum physics simply",
                    "Help me write a story",
                    "Debug my JavaScript code",
                    "What's the weather like today?"
                ];
                
                const messagesDiv = document.getElementById('chatMessages');
                const exampleDiv = document.createElement('div');
                exampleDiv.className = 'message ai-message';
                exampleDiv.innerHTML = `
                    <div class="message-avatar ai-avatar">💡</div>
                    <div class="message-content">
                        <p><strong>Try these examples:</strong></p>
                        <div style="margin-top: 15px; display: flex; flex-wrap: wrap; gap: 8px;">
                            ${examples.map(ex => `
                                <button onclick="askExample('${ex}')" style="
                                    background: #f3f4f6; 
                                    border: 1px solid #d1d5db; 
                                    border-radius: 20px; 
                                    padding: 8px 16px; 
                                    font-size: 0.9rem; 
                                    cursor: pointer;
                                    transition: all 0.2s;
                                " onmouseover="this.style.background='#e5e7eb'" onmouseout="this.style.background='#f3f4f6'">
                                    ${ex}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
                messagesDiv.appendChild(exampleDiv);
                scrollToBottom();
            }, 1500);
        }
        
        function askExample(question) {
            document.getElementById('userInput').value = question;
            sendMessage();
        }
        
        // Add example buttons after welcome
        setTimeout(addExampleButtons, 1000);
    </script>
</body>
</html>